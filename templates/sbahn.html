<!DOCTYPE html>
<html>
<head>
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />
	<title>S-Bahn Stuttgart | GrütteCloud</title>
	<meta name="google-site-verification" content="gEiw9Swqs11DLP3QTgR8Y6hHGjQnhSWWud7LivLEmHs" />
	<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,700,0,200" />
	<link rel="stylesheet" href="https://www.gruettecloud.com/static/stylesheet.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" />
    <link rel="icon" href="https://www.gruettecloud.com/static/gruettecloud_logo.png">
</head>
<body>
	<div class="header">
        <div class="dark-mode-toggle">
            <a href="/" class="white-button-blue-on-hover" title=""><span class="material-symbols-outlined">arrow_back_ios_new</span></a>&nbsp;&nbsp;&nbsp;&nbsp;
            <span id="darkModeToggle" class="material-symbols-outlined white-button-blue-on-hover" title="Darkmode">light_mode</span>
        </div>
		<div class="centered-content">
            <a href="/" class="logo" title="Home">
                <img src="https://www.gruettecloud.com/static/gruettecloud_logo.png" style="width: 40px; height: 40px;" title="GrütteCloud">
            </a>
        </div>
        {% include "components/nav-element.html" %}
	</div>


	<div style="text-align: center; padding: 20px; display: flex; flex-direction: column; align-items: center; justify-content: center; height: 100vh;">
        {% if mode == "not_logged_in" %}
        <h1>Please login</h1>
        <p style="text-wrap: balance; width: 300px;">To use this feature, you need to login to GrütteCloud. Then head back to this page.</p>
        <div style="display: flex; flex-direction: column; align-items: center; justify-content: center; margin-top: 40px; gap: 20px;">
            <a href="/" class="button-blue" title="Home" style="justify-content: center; display: flex; align-items: center; width: 300px;">
                <span class="material-symbols-outlined" style="margin-right: 10px;">open_in_new</span>
                Login to GrütteCloud
            </a>
        </div>
        {% elif mode == "file_not_found" %}
        <h1>File not found</h1>
        <img src="https://www.german-design-award.com/fileadmin/GDA/gallery/2022/GDA2022-56445/productimage_large.jpg" style="width: 300px; margin-bottom: 40px; border-radius: 30px;" title="S-Bahn Stuttgart">
        <p style="text-wrap: balance; width: 300px;">Please head to Instagram and download the file from there. Make sure to scroll down to load all comments. 
        Then head back to GrütteDrive and upload the file. It must be named <b>comments.html</b>.</p>
        <div style="display: flex; flex-direction: column; align-items: center; justify-content: center; margin-top: 40px; gap: 20px;">
            <a href="https://www.instagram.com/p/C0_bat4omfW/" class="button-blue" title="Home" style="justify-content: center; display: flex; align-items: center; width: 300px;">
                <img src="https://cdn.simpleicons.org/instagram/white" alt="Instagram" style="width: 20px; height: 20px; margin-right: 10px;">
                Instagram
            </a>
            <a href="/drive" class="button-blue" title="Home" style="justify-content: center; display: flex; align-items: center; width: 300px;">
                <span class="material-symbols-outlined" style="margin-right: 10px;">cloud_upload</span>
                GrütteDrive
            </a>
        </div>
        {% elif mode == "file_found" %}
        <img src="https://www.german-design-award.com/fileadmin/GDA/gallery/2022/GDA2022-56445/productimage_large.jpg" style="width: 300px; border-radius: 30px;" title="S-Bahn Stuttgart">
        
        <div id="result" style="display: flex; flex-direction: column; align-items: center; justify-content: center; margin-top: 20px; gap: 20px; background-color: var(--background-tile-color); padding: 20px; width: 300px; border-radius: 30px;">
            <div>
                <div id="toggleResults" onclick="toggleResultNew();" style="position: absolute; margin-left: 140px; margin-top: 0px; cursor: pointer; display: flex;">
                    <span class="material-symbols-outlined">refresh</span>
                </div>
                <div id="toggleMultiMode" onclick="toggleMultiMode();" style="position: absolute; margin-right: 140px; margin-top: 0px; cursor: pointer; display: flex;">
                    <span class="material-symbols-outlined">view_module</span>
                </div>
                <h1 id="headline" style="color: var(--primary-color);">Votes</h1>
            </div>
            
            <div style="display: flex; flex-direction: row; gap: 20px; width: 100%;">
                <div id="a" style="font-weight: bold;">
                    A
                </div>
                <div style="display: flex; flex-direction: column; width: 100%; justify-content: center; align-items: flex-end;">
                    {{ result["A"] }}
                </div>
            </div>
            <div style="display: flex; flex-direction: row; gap: 20px; width: 100%;">
                <div id="b" style="font-weight: bold;">
                    B
                </div>
                <div style="display: flex; flex-direction: column; width: 100%; justify-content: center; align-items: flex-end;">
                    {{ result["B"] }}
                </div>
            </div>
            <div style="display: flex; flex-direction: row; gap: 20px; width: 100%;">
                <div id="c" style="font-weight: bold;">
                    C
                </div>
                <div style="display: flex; flex-direction: column; width: 100%; justify-content: center; align-items: flex-end;">
                    {{ result["C"] }}
                </div>
            </div>
            <div id="d" style="display: flex; flex-direction: row; gap: 20px; width: 100%;">
                <div style="font-weight: bold;">
                    D
                </div>
                <div style="display: flex; flex-direction: column; width: 100%; justify-content: center; align-items: flex-end;">
                    {{ result["D"] }}
                </div>
            </div>
            <div id="e" style="display: flex; flex-direction: row; gap: 20px; width: 100%;">
                <div style="font-weight: bold;">
                    E
                </div>
                <div style="display: flex; flex-direction: column; width: 100%; justify-content: center; align-items: flex-end;">
                    {{ result["E"] }}
                </div>
            </div>
            <div style="display: flex; flex-direction: row; gap: 0px; width: 100%;">
                <div style="display: inline; wrap: nowrap; font-weight: bold;">
                    Comments
                </div>
                <div style="display: flex; flex-direction: column; width: 100%; justify-content: center; align-items: flex-end;">
                    {{ result["Total"] }}
                </div>
            </div>
            Results from {{ result["Created_at"] }}
        </div>
        <div id="new" style="display: none; flex-direction: column; align-items: center; justify-content: center; margin-top: 40px; gap: 20px;">
            <a href="https://www.instagram.com/p/C0_bat4omfW/" class="button-blue" title="Home" style="justify-content: center; display: flex; align-items: center; width: 300px;">
                <img src="https://cdn.simpleicons.org/instagram/white" alt="Instagram" style="width: 20px; height: 20px; margin-right: 10px;">
                Instagram
            </a>
            <a href="/drive" class="button-blue" title="Home" style="justify-content: center; display: flex; align-items: center; width: 300px;">
                <span class="material-symbols-outlined" style="margin-right: 10px;">cloud_upload</span>
                GrütteDrive
            </a>
        </div>
        <div id="toggleNew" onclick="toggleResultNew();" style="display: none; margin-top: 20px; cursor: pointer;">
            Back to results
        </div>
        {% endif %}
    </div>

    <div id="mode" style="display: none;">single</div>
    
	<div id="cookie-banner"></div>
    {% include "components/footer.html" %}
</body>
</html>

<script>
    function toggleResultNew() {
        if (document.getElementById("result").style.display == "none") {
            document.getElementById("result").style.display = "flex";
            document.getElementById("new").style.display = "none";
            document.getElementById("toggleResults").style.display = "flex";
            document.getElementById("toggleNew").style.display = "none";
        } else {
            document.getElementById("result").style.display = "none";
            document.getElementById("new").style.display = "flex";
            document.getElementById("toggleResults").style.display = "none";
            document.getElementById("toggleNew").style.display = "flex";
        }
    }


    function toggleMultiMode() {
        var mode = document.getElementById("mode").innerHTML;
        if (mode == "single") {
            document.getElementById("mode").innerHTML = "multi";
            document.getElementById("headline").innerHTML = "Votes (Multi)";
            document.getElementById("a").innerHTML = {{ result["aMulti"] }};
            document.getElementById("b").innerHTML = {{ result["bMulti"] }};
            document.getElementById("c").innerHTML = {{ result["cMulti"] }};
            document.getElementById("d").innerHTML = {{ result["dMulti"] }};
            document.getElementById("e").innerHTML = {{ result["eMulti"] }};
            
        } else {
            document.getElementById("mode").innerHTML = "single";
            document.getElementById("headline").innerHTML = "Votes";
            document.getElementById("a").innerHTML = {{ result["A"] }};
            document.getElementById("b").innerHTML = {{ result["B"] }};
            document.getElementById("c").innerHTML = {{ result["C"] }};
            document.getElementById("d").innerHTML = {{ result["D"] }};
            document.getElementById("e").innerHTML = {{ result["E"] }};
            
        }

    }
</script>

<script src="https://www.gruettecloud.com/static/cookies.js"></script>
<script src="https://www.gruettecloud.com/static/darkmode.js"></script>