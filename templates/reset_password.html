<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />
    <title>Reset password | GrütteCloud</title>
    <meta name="description" content="Reset your password for your GrütteCloud account." />
    <meta name="google-site-verification" content="gEiw9Swqs11DLP3QTgR8Y6hHGjQnhSWWud7LivLEmHs" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,700,0,200" />
    <link rel="stylesheet" href="/static/stylesheet.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" />
    <link rel="icon" href="https://www.gruettecloud.com/static/gruettechat.png">
    <style>
        .centered-div {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            text-align: center;
            width: auto;
            height: auto; /* Override height property */
        }

        @media (max-width: 768px) {
            .centered-div {
                width: 90vw;
            }
        }
    </style>
</head>
<body>
    <div class="header">
        <div class="dark-mode-toggle">
            <span id="darkModeToggle" class="material-symbols-outlined white-button-blue-on-hover" title="Darkmode">sunny</span>
        </div>
        {% include "components/nav-element.html" %}
    </div>

    <div class="wrapping-tile centered-div" style="padding: 20px; border-radius: 30px;">
        <div style="text-align: center; margin-bottom: 20px; width: auto; height: auto;">
            <div style="display: flex; justify-content: center;" class="desktop-only">
                <img src="https://www.gruettecloud.com/static/gruettecloud_logo.png" style="width: 100px; height: 100px; margin-top: 20px;" class="desktop-only">
            </div>
        </div>
        {% if action == "default" %}
            <h1 style="margin-bottom: 40px;">Recover your GrütteCloud Account</h1>
            <p>Please enter the username and email<br>associated with your GrütteCloud account.</p>
            <form action="/reset_password" method="POST" style="display: flex; flex-direction: column; align-items: center; justify-content: center;">
                <input type="text" name="username" placeholder="Your username" class="login-input" autocomplete="off" style="width: 100%; margin: 0; margin-top: 20px; border-radius: 30px; padding-left: 20px; background-color: transparent; border: 2px solid var(--box-shadow-color); color: var(--text-color);">
                <input type="text" name="email" placeholder="Your email" class="login-input" autocomplete="off" style="width: 100%; margin: 0; margin-top: 20px; border-radius: 30px; padding-left: 20px; background-color: transparent; border: 2px solid var(--box-shadow-color); color: var(--text-color);">
                <button type="submit" class="button-blue" style="width: 100%; margin-top: 20px; border-radius: 30px;">Send recovery email</button>
            </form>
        {% elif action == "email_sent" %}
            <h1 style="margin-bottom: 40px;">Recovery email sent</h1>
            <p>We have sent an email to <b>{{ email }}</b> with instructions on how to reset your password.</p>
            <p>If can't find the email, please check your spam folder.</p>
        {% elif action == "create_new" %}
            <h1 style="margin-bottom: 40px;">Create new password</h1>
            <p>Please enter a new password for your GrütteCloud account.</p>
            <form action="/reset_password?token={{ token }}" method="POST" style="display: flex; flex-direction: column; align-items: center; justify-content: center;">
                <input type="password" name="password" placeholder="New password" class="login-input" autocomplete="off" style="width: 100%; margin: 0; margin-top: 20px; border-radius: 30px; padding-left: 20px; background-color: transparent; border: 2px solid var(--box-shadow-color); color: var(--text-color);">
                <input type="password" name="password_confirm" placeholder="Repeat password" class="login-input" autocomplete="off" style="width: 100%; margin: 0; margin-top: 20px; border-radius: 30px; padding-left: 20px; background-color: transparent; border: 2px solid var(--box-shadow-color); color: var(--text-color);">
                <button type="submit" class="button-blue" style="width: 100%; margin-top: 20px; border-radius: 30px;">Reset password</button>
            </form>
        {% elif action == "password_reset" %}
            <h1 style="margin-bottom: 40px;">Password reset</h1>
            <p style="margin-bottom: 30px;">Your password has been reset successfully.</p>
            <a href="/" class="buy-now-button" style="text-decoration: none;">Login</a>
        {% endif %}
            
    </div>
    <div id="cookie-banner"></div>
    {% include "components/footer.html" %}
</body>
</html>

<script src="https://www.gruettecloud.com/static/cookies.js"></script>
<script src="https://www.gruettecloud.com/static/darkmode.js"></script>